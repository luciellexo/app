{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDurationTotalMinutes\", {\n    enumerable: true,\n    get: function () {\n      return getDurationTotalMinutes;\n    }\n  });\n  Object.defineProperty(exports, \"getActiveLogs\", {\n    enumerable: true,\n    get: function () {\n      return getActiveLogs;\n    }\n  });\n  const getDurationTotalMinutes = (substance, roaName) => {\n    const roa = substance.roas.find(r => r.name === roaName);\n    if (!roa || !roa.duration || !roa.duration.total) return 240; // Default 4 hours\n\n    const {\n      max,\n      units\n    } = roa.duration.total;\n    if (units === 'hours') return max * 60;\n    if (units === 'minutes') return max;\n    return 240;\n  };\n  const getActiveLogs = (logs, substances) => {\n    const now = Date.now();\n    return logs.filter(log => {\n      // If we have substance data, use it, otherwise default 4 hours\n      const duration = 240; // simplified for now if data missing\n      // Ideally we need the substance data for every log to know duration\n      // For MVP, we might assume 4-6 hours or fetch it.\n\n      // Better approach: Store duration in the log at creation time? \n      // Yes, let's store 'estimatedDurationMinutes' in the log.\n      const logDuration = log.estimatedDurationMinutes || 240;\n      return log.timestamp + logDuration * 60 * 1000 > now;\n    });\n  };\n});","lineCount":45,"map":[[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"enumerable"],[8,14,3,0],[9,4,3,0,"get"],[9,7,3,0],[9,18,3,0,"get"],[9,19,3,0],[10,6,3,0],[10,13,3,0,"getDurationTotalMinutes"],[10,36,3,0],[11,4,3,0],[12,2,3,0],[13,2,13,0,"Object"],[13,8,13,0],[13,9,13,0,"defineProperty"],[13,23,13,0],[13,24,13,0,"exports"],[13,31,13,0],[14,4,13,0,"enumerable"],[14,14,13,0],[15,4,13,0,"get"],[15,7,13,0],[15,18,13,0,"get"],[15,19,13,0],[16,6,13,0],[16,13,13,0,"getActiveLogs"],[16,26,13,0],[17,4,13,0],[18,2,13,0],[19,2,3,7],[19,8,3,13,"getDurationTotalMinutes"],[19,31,3,36],[19,34,3,39,"getDurationTotalMinutes"],[19,35,3,40,"substance"],[19,44,3,60],[19,46,3,62,"roaName"],[19,53,3,77],[19,58,3,90],[20,4,4,2],[20,10,4,8,"roa"],[20,13,4,11],[20,16,4,14,"substance"],[20,25,4,23],[20,26,4,24,"roas"],[20,30,4,28],[20,31,4,29,"find"],[20,35,4,33],[20,36,4,34,"r"],[20,37,4,35],[20,41,4,39,"r"],[20,42,4,40],[20,43,4,41,"name"],[20,47,4,45],[20,52,4,50,"roaName"],[20,59,4,57],[20,60,4,58],[21,4,5,2],[21,8,5,6],[21,9,5,7,"roa"],[21,12,5,10],[21,16,5,14],[21,17,5,15,"roa"],[21,20,5,18],[21,21,5,19,"duration"],[21,29,5,27],[21,33,5,31],[21,34,5,32,"roa"],[21,37,5,35],[21,38,5,36,"duration"],[21,46,5,44],[21,47,5,45,"total"],[21,52,5,50],[21,54,5,52],[21,61,5,59],[21,64,5,62],[21,65,5,63],[21,66,5,64],[23,4,7,2],[23,10,7,8],[24,6,7,10,"max"],[24,9,7,13],[25,6,7,15,"units"],[26,4,7,21],[26,5,7,22],[26,8,7,25,"roa"],[26,11,7,28],[26,12,7,29,"duration"],[26,20,7,37],[26,21,7,38,"total"],[26,26,7,43],[27,4,8,2],[27,8,8,6,"units"],[27,13,8,11],[27,18,8,16],[27,25,8,23],[27,27,8,25],[27,34,8,32,"max"],[27,37,8,35],[27,40,8,38],[27,42,8,40],[28,4,9,2],[28,8,9,6,"units"],[28,13,9,11],[28,18,9,16],[28,27,9,25],[28,29,9,27],[28,36,9,34,"max"],[28,39,9,37],[29,4,10,2],[29,11,10,9],[29,14,10,12],[30,2,11,0],[30,3,11,1],[31,2,13,7],[31,8,13,13,"getActiveLogs"],[31,21,13,26],[31,24,13,29,"getActiveLogs"],[31,25,13,30,"logs"],[31,29,13,41],[31,31,13,43,"substances"],[31,41,13,80],[31,46,13,85],[32,4,14,2],[32,10,14,8,"now"],[32,13,14,11],[32,16,14,14,"Date"],[32,20,14,18],[32,21,14,19,"now"],[32,24,14,22],[32,25,14,23],[32,26,14,24],[33,4,15,2],[33,11,15,9,"logs"],[33,15,15,13],[33,16,15,14,"filter"],[33,22,15,20],[33,23,15,21,"log"],[33,26,15,24],[33,30,15,28],[34,6,16,4],[35,6,17,4],[35,12,17,10,"duration"],[35,20,17,18],[35,23,17,21],[35,26,17,24],[35,27,17,25],[35,28,17,26],[36,6,18,4],[37,6,19,4],[39,6,21,4],[40,6,22,4],[41,6,23,4],[41,12,23,10,"logDuration"],[41,23,23,21],[41,26,23,24,"log"],[41,29,23,27],[41,30,23,28,"estimatedDurationMinutes"],[41,54,23,52],[41,58,23,56],[41,61,23,59],[42,6,24,4],[42,13,24,12,"log"],[42,16,24,15],[42,17,24,16,"timestamp"],[42,26,24,25],[42,29,24,28,"logDuration"],[42,40,24,39],[42,43,24,42],[42,45,24,44],[42,48,24,47],[42,52,24,51],[42,55,24,55,"now"],[42,58,24,58],[43,4,25,2],[43,5,25,3],[43,6,25,4],[44,2,26,0],[44,3,26,1],[45,0,26,2],[45,3]],"functionMap":{"names":["<global>","getDurationTotalMinutes","substance.roas.find$argument_0","getActiveLogs","logs.filter$argument_0"],"mappings":"AAA;uCCE;kCCC,uBD;CDO;6BGE;qBCE;GDU;CHC"},"hasCjsExports":false},"type":"js/module"}]}